\documentclass[a4paper,english]{lipics-utf8x}

\usepackage[T1]{fontenc} %

\usepackage{amsmath, amssymb, amsfonts, stmaryrd}
\usepackage{pifont}
\PrerenderUnicode{é} % For the author names in the heading

% Add some colors
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage{hyperref}
\hypersetup{
 linktocpage,
 colorlinks,
 citecolor=BlueViolet,
 filecolor=red,
 linkcolor=Blue,
 urlcolor=BrickRed
}

\usepackage{graphicx}
\usepackage{placeins}

% Meta comment
\newcommand\meta[1]{\noindent\textcolor{blue}{\emph{#1}}}

% Include the macro file
\input{macros}

% Title and so...
\title{$n$-Types live a peaceful life without universes}
\author[1]{Théo Winterhalter}

\begin{document}

  \maketitle

  \begin{abstract}
    We'll try to define a system with no universe hierarchy except for
    $n$-Types, hopefully showing it's consistent and has a decidable type
    checking.
  \end{abstract}

  \section{Rules}

  We give ourselves basic dependent type theory with $\Pi$-types and
  $\Sigma$-types, as well as the indentity types necessary to define the
  $n$-Types.
  This theory doesn't have the usual universes that one require to ensure
  consistency. The goal is to prove that they are unnecessary as long as you
  remain in the realm of $n$-Types (finite homotopy complexity).

  \begin{center}
  \(
    \ru{}{\der \cdot}
    \qquad
    \ru{\Gamma \der T \type \qquad
        x \notin \Gamma
      }{\der \Gamma, x : T}
    \qquad
    \ru{\der \Gamma \qquad
        (x : T) \in \Gamma
      }{\Gamma \der x : T}
  \)
  \end{center}

  \begin{center}
  \(
    \ru{\Gamma \der t : \Pi x:A.B \qquad
        \Gamma \der t' : A
      }{\Gamma \der t\ t' : B[t'/x]}
    \qquad
    \ru{\Gamma \der A \type \qquad
        \Gamma, x:A \der B \type
      }{\Gamma \der \Pi x:A.B \type}
  \)
  \end{center}

  \begin{center}
  \(
    \ru{\Gamma \der \Pi x:A.B : s \qquad
        \Gamma, x:A \der t : B
      }{\Gamma \der \lambda x:A.t : \Pi x:A.B}
    \qquad
    \ru{\Gamma \der t : \Sigma x:A.B
      }{\Gamma \der t.1 : A}
    \qquad
    \ru{\Gamma \der t : \Sigma x:A.B
      }{\Gamma \der t.2 : B[t.1/x]}
  \)
  \end{center}

  \begin{center}
  \(
    \ru{\Gamma \der t : A \qquad
        \Gamma \der t' : B[t/x]
      }{\Gamma \der (t ; t') : \Sigma x:A.B}
    \qquad
    \ru{\Gamma \der A \type \qquad
        \Gamma, x:A \der B \type
      }{\Gamma \der \Sigma x:A.B \type}
  \)
  \end{center}

  \begin{center}
  \(
    \ru{\Gamma \der t : A \qquad
        \Gamma \der B \type \qquad
        \Gamma \der A = B
      }{\Gamma \der t : B}
  \)
  \end{center}

  \meta{TODO: Add identity types.}

  \noindent %
  We then add the rules regarding the $n$-Types which will also make explicit
  what $\Gamma \der T \type$ means.

  \begin{center}
  \(
    \ru{\der \Gamma
      }{\Gamma \der n-\Type : (n+1)-\Type}
    \qquad
    \ru{\Gamma \der T : n-\Type
      }{\Gamma \der T \type}
    \qquad
    \ru{\Gamma \der T : (-2)-\Type
      }{\Gamma \der \ctr_T : \Sigma x:T. \Pi y:T. x =_T y}
  \)
  \end{center}

  \begin{center}
  \(
    \ru{\Gamma \der T : (n+1)-\Type \qquad
        \Gamma \der t,t' : T
      }{\Gamma \der t =_T t' : n-\Type}
  \)
  \end{center}

  This last rule is problematic...
  We want the system to be decidable.


% \section{Computation}
%
% We present weak-head reduction as follows:
%
% \begin{center}
% \(
%   \ru{t \rew f \qquad
%       f~u \rew a
%     }{t~u \rew a}
%   \qquad
%   \ru{}{a \rew a}
%   \qquad
%   \ru{t[u/x] \rew a
%     }{(\lambda x:U.t)~u \rew a}
%   \qquad
%   \ru{}{n~u \rew n~u}
%   \qquad
%   \ru{T \rew A
%     }{(\RRe{T}{h}).\type \rew A}
% \)
% \end{center}

\end{document}
